import{a as S,b as f,c as M,d as N,e as O,f as k,g as F,h as D,i as G,j as A,k as X,l as V,m as j}from"./chunk-DIXVLAP3.js";import{j as T,l as I}from"./chunk-WSSKE2EF.js";import{Ba as h,Ga as u,Ra as c,Sa as n,Ta as e,Ua as s,Y as _,Z as v,Za as P,bb as g,cb as x,da as b,hb as E,ib as o,kb as y,qa as d,va as C}from"./chunk-FJJCGADD.js";function w(i,r){if(i&1){let t=P();n(0,"p",19),o(1),n(2,"button",20),g("click",function(){_(t);let l=x();return v(l.enviado.set(null))}),o(3,"\xD7"),e()()}if(i&2){let t=r.ngIf;E("ok",t.ok)("err",!t.ok),d(),y(" ",t.msg," ")}}function z(i,r){i&1&&(n(0,"small",24),o(1," Informe a chave PIX do destinat\xE1rio. "),e())}function B(i,r){if(i&1&&(n(0,"div",21)(1,"div",3)(2,"label",22),o(3,"Chave PIX"),e(),s(4,"input",23),u(5,z,2,0,"small",11),e()()),i&2){let t,a=x();d(5),c("ngIf",((t=a.form.get("pix.chavePix"))==null?null:t.touched)&&((t=a.form.get("pix.chavePix"))==null?null:t.invalid))}}function J(i,r){i&1&&(n(0,"small",24),o(1," Informe o c\xF3digo do banco. "),e())}function R(i,r){i&1&&(n(0,"small",24),o(1," Informe a ag\xEAncia. "),e())}function L(i,r){i&1&&(n(0,"small",24),o(1," Informe a conta. "),e())}function H(i,r){i&1&&(n(0,"small",24),o(1," Informe o CPF/CNPJ do titular. "),e())}function K(i,r){if(i&1&&(n(0,"div",25)(1,"div",26)(2,"div",3)(3,"label",27),o(4,"C\xF3digo do banco"),e(),s(5,"input",28),u(6,J,2,0,"small",11),e(),n(7,"div",3)(8,"label",29),o(9,"Ag\xEAncia"),e(),s(10,"input",30),u(11,R,2,0,"small",11),e(),n(12,"div",3)(13,"label",31),o(14,"Conta"),e(),s(15,"input",32),u(16,L,2,0,"small",11),e(),n(17,"div",3)(18,"label",33),o(19,"CPF/CNPJ do titular"),e(),s(20,"input",34),u(21,H,2,0,"small",11),e()()()),i&2){let t,a,l,p,m=x();d(6),c("ngIf",((t=m.form.get("ted.bancoCodigo"))==null?null:t.touched)&&((t=m.form.get("ted.bancoCodigo"))==null?null:t.invalid)),d(5),c("ngIf",((a=m.form.get("ted.agencia"))==null?null:a.touched)&&((a=m.form.get("ted.agencia"))==null?null:a.invalid)),d(5),c("ngIf",((l=m.form.get("ted.conta"))==null?null:l.touched)&&((l=m.form.get("ted.conta"))==null?null:l.invalid)),d(5),c("ngIf",((p=m.form.get("ted.cpfCnpj"))==null?null:p.touched)&&((p=m.form.get("ted.cpfCnpj"))==null?null:p.invalid))}}function Q(i,r){i&1&&(n(0,"small",24),o(1," Informe um valor maior que zero. "),e())}var q=class i{constructor(r){this.fb=r;this.form=this.fb.group({tipo:["PIX",f.required],valor:[null,[f.required,f.min(.01)]],data:[new Date().toISOString().slice(0,10),f.required],descricao:[""],pix:this.fb.group({chavePix:["",f.required]}),ted:this.fb.group({bancoCodigo:["",f.required],agencia:["",f.required],conta:["",f.required],cpfCnpj:["",f.required]})}),this.setModo("PIX"),this.form.get("tipo").valueChanges.subscribe(t=>this.setModo(t))}enviado=b(null);form;setModo(r){let t=this.form.get("pix"),a=this.form.get("ted");r==="PIX"?(t.enable({emitEvent:!1}),a.disable({emitEvent:!1})):(a.enable({emitEvent:!1}),t.disable({emitEvent:!1}))}submit(){if(this.form.invalid){this.enviado.set({ok:!1,msg:"Preencha os campos obrigat\xF3rios."}),this.form.markAllAsTouched();return}let{tipo:r,valor:t,data:a,descricao:l}=this.form.value,p;r==="PIX"?p={tipo:r,chavePix:this.form.get("pix.chavePix").value}:p={tipo:r,bancoCodigo:this.form.get("ted.bancoCodigo").value,agencia:this.form.get("ted.agencia").value,conta:this.form.get("ted.conta").value,cpfCnpj:this.form.get("ted.cpfCnpj").value},console.log("payload:",{destino:p,valor:t,data:a,descricao:l}),this.enviado.set({ok:!0,msg:"Transfer\xEAncia registrada!"}),this.form.markAsPristine()}limpar(){this.form.reset({tipo:"PIX",valor:null,data:new Date().toISOString().slice(0,10),descricao:"",pix:{chavePix:""},ted:{bancoCodigo:"",agencia:"",conta:"",cpfCnpj:""}}),this.setModo("PIX"),this.enviado.set(null)}static \u0275fac=function(t){return new(t||i)(C(V))};static \u0275cmp=h({type:i,selectors:[["app-transferencias"]],decls:35,vars:5,consts:[[1,"card"],["class","banner",3,"ok","err",4,"ngIf"],[1,"form",3,"ngSubmit","formGroup"],[1,"field"],[1,"segmented"],["type","radio","value","PIX","formControlName","tipo"],["type","radio","value","TED","formControlName","tipo"],["formGroupName","pix",4,"ngIf"],["formGroupName","ted",4,"ngIf"],["for","valor"],["id","valor","type","number","min","0","step","0.01","formControlName","valor","placeholder","0,00"],["class","err",4,"ngIf"],["for","data"],["id","data","type","date","formControlName","data"],["for","desc"],["id","desc","type","text","formControlName","descricao","placeholder","Ex.: Aluguel, reembolso..."],[1,"actions"],["type","submit",1,"primary"],["type","button",1,"ghost",3,"click"],[1,"banner"],["type","button","aria-label","Fechar",1,"x",3,"click"],["formGroupName","pix"],["for","chave"],["id","chave","type","text","formControlName","chavePix","placeholder","CPF, e-mail, telefone ou chave aleat\xF3ria"],[1,"err"],["formGroupName","ted"],[1,"grid"],["for","banco"],["id","banco","type","text","formControlName","bancoCodigo","placeholder","Ex.: 001, 237, 341..."],["for","ag"],["id","ag","type","text","formControlName","agencia","placeholder","Ex.: 0001"],["for","cc"],["id","cc","type","text","formControlName","conta","placeholder","Ex.: 123456-7"],["for","cpf"],["id","cpf","type","text","formControlName","cpfCnpj","placeholder","Somente n\xFAmeros"]],template:function(t,a){if(t&1&&(n(0,"div",0)(1,"h1"),o(2,"Transfer\xEAncia"),e(),u(3,w,4,5,"p",1),n(4,"form",2),g("ngSubmit",function(){return a.submit()}),n(5,"div",3)(6,"label"),o(7,"Tipo"),e(),n(8,"div",4)(9,"label"),s(10,"input",5),o(11," PIX"),e(),n(12,"label"),s(13,"input",6),o(14," TED"),e()()(),u(15,B,6,1,"div",7)(16,K,22,4,"div",8),n(17,"div",3)(18,"label",9),o(19,"Valor"),e(),s(20,"input",10),u(21,Q,2,0,"small",11),e(),n(22,"div",3)(23,"label",12),o(24,"Data"),e(),s(25,"input",13),e(),n(26,"div",3)(27,"label",14),o(28,"Descri\xE7\xE3o (opcional)"),e(),s(29,"input",15),e(),n(30,"div",16)(31,"button",17),o(32,"Confirmar"),e(),n(33,"button",18),g("click",function(){return a.limpar()}),o(34,"Limpar"),e()()()()),t&2){let l,p,m;d(3),c("ngIf",a.enviado()),d(),c("formGroup",a.form),d(11),c("ngIf",((l=a.form.get("tipo"))==null?null:l.value)==="PIX"),d(),c("ngIf",((p=a.form.get("tipo"))==null?null:p.value)==="TED"),d(5),c("ngIf",((m=a.form.get("valor"))==null?null:m.touched)&&((m=a.form.get("valor"))==null?null:m.invalid))}},dependencies:[I,T,j,O,S,k,F,M,N,X,D,A,G],styles:[".card[_ngcontent-%COMP%]{max-width:560px;margin:24px auto;padding:20px;border:1px solid #e5e7eb;border-radius:12px;background:#fff}h1[_ngcontent-%COMP%]{margin:0 0 12px;font-size:20px}.form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{margin-bottom:14px;display:grid;gap:6px}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #d1d5db;border-radius:8px;outline:none}.segmented[_ngcontent-%COMP%]{display:inline-flex;gap:12px}.segmented[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}@media (max-width: 520px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:12px}button.primary[_ngcontent-%COMP%]{padding:8px 14px;border-radius:8px;border:none;cursor:pointer;background:#111827;color:#fff}button.ghost[_ngcontent-%COMP%]{padding:8px 14px;border-radius:8px;border:1px solid #d1d5db;background:#fff;cursor:pointer}.banner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-radius:10px;margin:8px 0 16px}.banner.ok[_ngcontent-%COMP%]{background:#ecfdf5;color:#065f46;border:1px solid #a7f3d0}.banner.err[_ngcontent-%COMP%]{background:#fef2f2;color:#991b1b;border:1px solid #fecaca}.banner[_ngcontent-%COMP%]   .x[_ngcontent-%COMP%]{background:transparent;border:none;font-size:18px;cursor:pointer}.err[_ngcontent-%COMP%]{color:#b91c1c;font-size:12px}"]})};export{q as TransferenciasComponent};
